<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Felii Cumple Ela</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Bubbles&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Bubbles&family=Rubik+Spray+Paint&display=swap" rel="stylesheet">

</head>
<body>
    <div class="hearts-container" id="hearts-container"></div>

    <div class="header">
        <a href="solicitada.html">
            <button class="nav-button">Solicitada ;)</button>
        </a>
        <a href="href="https:"//open.spotify.com/playlist/6AMIKfWX5tUSlXseTlLOz6?si=7306ab00de8841c5" target="_blank">
            <button class="nav-button">Playlist :3</button>
        </a>
        <h1 class="title">ELAPURIN</h1>
        <a href="cartita.html">
            <button class="nav-button">Cartita <3</button>
        </a>
        <a href="je.html">
            <button class="nav-button">je :)</button>
        </a>        
    </div>

    <div class="clouds">
        <img src="nube1.png" class="cloud cloud1">
        <img src="nube2.png" class="cloud cloud2">
        <img src="nube3.png" class="cloud cloud3">
        <img src="nube4.png" class="cloud cloud4">
    </div>

    <div class="character-container floating" id="character">
        <!-- Usamos una imagen placeholder que puedes reemplazar con una imagen real de Pompompurin -->
        <img src="Pompompurin.webp" alt="Pompompurin" class="character-img" id="pompompurin-img">
    </div>

    <div class="footer">
        <p class="birthday-eee">EEEEEEEE</p>
        <p class="birthday-text">FELIZ CUMPLE</p>
        <div class="cake" id="cake">
            <div class="plate"></div>
            <div class="layer layer-bottom"></div>
            <div class="layer layer-middle"></div>
            <div class="layer layer-top"></div>
            <div class="icing"></div>
            <div class="drip drip1"></div>
            <div class="drip drip2"></div>
            <div class="drip drip3"></div>
        </div>
        <button class="mus-button" id="music-button">♫</button>
    </div>

    <div class="hidden-message" id="messageContainer">
        <div class="message-content">
            <h2>Mi querida:</h2>
            <div id="personal-message">
                ¡Feliz cumpleaños! Quiero que sepas que eres una persona increíble y especial. 
                Cada momento contigo es un regalo y quiero celebrar tu vida hoy y siempre.
                
                Te hice esta pequeña página con mucho cariño para recordarte lo mucho que significas para mí.
                
                Con todo mi amor,
                [Tu nombre]
            </div>
            <button class="close-button" id="closeButton">Cerrar ♡</button>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="miSuerte.mp3" type="audio/mp3">
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const character = document.getElementById('character');
            const messageContainer = document.getElementById('messageContainer');
            const closeButton = document.getElementById('closeButton');
            const cake = document.getElementById('cake');
            const heartsContainer = document.getElementById('hearts-container');
            const musicButton = document.getElementById('music-button');
            const bgMusic = document.getElementById('bgMusic');
            const cartaButton = document.querySelector('.nav-button');
            
            // Función para mostrar el mensaje
            function showMessage() {
                messageContainer.classList.add('show');
                createConfetti();
            }
            
            // Función para cerrar el mensaje
            closeButton.addEventListener('click', function() {
                messageContainer.classList.remove('show');
            });
            
            // Interacción con el personaje
            character.addEventListener('click', function() {
                document.getElementById('pompompurin-img').style.transform = 'scale(1.1)';
                createHearts(5, character);
                setTimeout(() => {
                    document.getElementById('pompompurin-img').style.transform = 'scale(1)';
                }, 300);
            });
            
            // Interacción con el pastel
            cake.addEventListener('click', function() {
                createHearts(10, cake);
                setTimeout(showMessage, 500);
            });
            
            // Botón de carta
            cartaButton.addEventListener('click', showMessage);
            
            // Controlar la música
            let musicPlaying = false;
            musicButton.addEventListener('click', function() {
                if (musicPlaying) {
                    bgMusic.pause();
                    musicButton.textContent = '⏸';
                } else {
                    bgMusic.play().catch(e => console.log('Error al reproducir música:', e));
                    musicButton.textContent = '▶';
                }
                musicPlaying = !musicPlaying;
            });
            
            // Función para crear corazones
            function createHearts(count, sourceElement) {
                const rect = sourceElement.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                for (let i = 0; i < count; i++) {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    heart.textContent = '♥';
                    heart.style.left = `${centerX - 10 + Math.random() * 20}px`;
                    heart.style.top = `${centerY - 10 + Math.random() * 20}px`;
                    heart.style.fontSize = `${15 + Math.random() * 15}px`;
                    heart.style.animationDelay = `${Math.random() * 2}s`;
                    heartsContainer.appendChild(heart);
                    
                    setTimeout(() => {
                        heartsContainer.removeChild(heart);
                    }, 4000);
                }
            }
            
            // Función para crear confeti
            function createConfetti() {
                for (let i = 0; i < 50; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = `${Math.random() * 100}%`;
                    confetti.style.top = `${Math.random() * 100}%`;
                    confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                    confetti.style.width = `${5 + Math.random() * 10}px`;
                    confetti.style.height = `${5 + Math.random() * 10}px`;
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    confetti.style.opacity = '1';
                    confetti.style.transition = 'transform 5s, top 5s, opacity 5s';
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.style.transform = `rotate(${Math.random() * 360}deg) translate(${Math.random() * 100 - 50}px, ${Math.random() * -250}px)`;
                        confetti.style.opacity = '0';
                    }, 10);
                    
                    setTimeout(() => {
                        document.body.removeChild(confetti);
                    }, 5000);
                }
            }
            
            // Crear corazones aleatorios de vez en cuando
            setInterval(() => {
                if (Math.random() > 0.7) {
                    createHearts(1, character);
                }
            }, 3000);
        });
    </script>
</body>
</html>